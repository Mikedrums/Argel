<html>

	<head>
		<meta charset="UTF-8" />
		<title>extJS - Class 13</title>
		<link rel="stylesheet" type="text/css" href="../extjs/resources/css/ext-all.css">
		<script type="text/javascript" src="../extjs/ext-all.js"></script>
	</head>

	<body>

	</body>

	<script type="text/javascript">

		Ext.define('Contato', {
			extend: 'Ext.data.Model',

			fields: [
				{name: 'id', type: 'int'},
				{name: 'nome', type: 'string'},
				{name: 'email', type: 'string'}
			],

			proxy: {
				type: 'rest',
				url: 'contatos',
				format: 'json'
			}

		});

		Ext.onReady(function(){

			/*var contato = Ext.create('Contato', {
				nome: 'Alexandre',
				email: 'alexandre.bonfa@gmail.com'
			});

			contato.save();*/

			Contato.load(1, {
				success: function(contato) {
					console.log('Nome do contato Ã© ' + contato.get('nome'));
					contato.set('nome','Luis Cardoso');
					contato.save();
					contato.destroy();
				}
			});

		});
	</script>

</html>